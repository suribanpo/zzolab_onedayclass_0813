import streamlit as st
import pandas as pd
import time
from datetime import datetime

# ì‚¬ì´ë“œë°” ì„¤ì •
st.sidebar.header('ì‚¬ì´ë“œë°” í—¤ë”')  # ì‚¬ì´ë“œë°”ì˜ í—¤ë” ì„¤ì •
number = st.sidebar.slider("ì‚¬ì´ë“œë°” ìŠ¬ë¼ì´ë”", 0, 100)  # ìŠ¬ë¼ì´ë” ìœ„ì ¯ ìƒì„±
wid = 500  # ë„ˆë¹„ ì„¤ì •

# ê³„ì ˆ íƒ­ ìƒì„±
tab1, tab2, tab3, tab4 = st.tabs(['ë´„', 'ì—¬ë¦„', 'ê°€ì„', 'ê²¨ìš¸'])  # ê³„ì ˆë³„ íƒ­ ìƒì„±
tab1.info("ë´„ì´ì—ìš”!")  # ë´„ íƒ­ ì •ë³´
tab2.info("ì—¬ë¦„ì´ì—ìš”!")  # ì—¬ë¦„ íƒ­ ì •ë³´
tab3.info("ê°€ì„ì´ì—ìš”!")  # ê°€ì„ íƒ­ ì •ë³´
tab4.info("ê²¨ìš¸ì´ì—ìš”!")  # ê²¨ìš¸ íƒ­ ì •ë³´

# ì„¸ì…˜ ìƒíƒœì— ì´ë¦„ì´ ì—†ìœ¼ë©´ ê¸°ë³¸ê°’ ì„¤ì •
if 'name' not in st.session_state:
    st.session_state['name'] = 'John Doe'

# ì œëª© ì„¤ì •
st.title("Interactive widget")  # ì•± ì œëª©
st.divider()  # êµ¬ë¶„ì„  ì¶”ê°€

# í…ìŠ¤íŠ¸ ì…ë ¥ ìœ„ì ¯
name = st.text_input(label="ì´ë¦„ì„ ì ì–´ì£¼ì„¸ìš”!:D")  # ì‚¬ìš©ì ì´ë¦„ ì…ë ¥
if name:  # ì´ë¦„ì´ ì…ë ¥ë˜ë©´
    st.write(f"{name}ë‹˜ ì•ˆë…•í•˜ì„¸ìš”!")  # ì¸ì‚¬ ë©”ì‹œì§€ ì¶œë ¥

# ë¡œê·¸ì¸ ìœ„ì ¯
my_id = 'zzolab'  # ê³ ì •ëœ ID
my_passwd = '220518'  # ê³ ì •ëœ ë¹„ë°€ë²ˆí˜¸
input_id = st.text_input("ID:(hint:ìª¼ë©ì€ ì˜ì–´ë¡œ?)")  # ID ì…ë ¥
input_passwd = st.text_input("PW:(hint:ìª¼ë©ì˜ ìƒì¼ì€? ex. 240815)", type="password")  # ë¹„ë°€ë²ˆí˜¸ ì…ë ¥
if my_id == input_id and my_passwd == input_passwd:  # IDì™€ ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ë©´
    st.success("ë¡œê·¸ì¸ì— ì„±ê³µí–ˆìŠµë‹ˆë‹¤.")  # ì„±ê³µ ë©”ì‹œì§€

    # ì†Œìˆ˜ íŒë³„ê¸° ê¸°ëŠ¥ êµ¬í˜„
    def is_prime(num):
        """ì£¼ì–´ì§„ ìˆ˜ê°€ ì†Œìˆ˜ì¸ì§€ íŒë³„í•˜ëŠ” í•¨ìˆ˜"""
        if num <= 1:  # 1 ì´í•˜ì˜ ìˆ˜ëŠ” ì†Œìˆ˜ê°€ ì•„ë‹˜
            return False
        for i in range(2, int(num**0.5) + 1):  # 2ë¶€í„° numì˜ ì œê³±ê·¼ê¹Œì§€ ë°˜ë³µ
            if num % i == 0:  # ë‚˜ëˆ„ì–´ ë–¨ì–´ì§€ë©´ ì†Œìˆ˜ê°€ ì•„ë‹˜
                return False
        return True  # ì†Œìˆ˜ì¼ ê²½ìš° True ë°˜í™˜

    # ì†Œìˆ˜ íŒë³„ê¸° ì œëª© ì„¤ì •
    st.title("ì†Œìˆ˜ íŒë³„ê¸°")  # ì†Œìˆ˜ íŒë³„ê¸° ì œëª©

    # ì‚¬ìš©ìë¡œë¶€í„° ìì—°ìˆ˜ ì…ë ¥ ë°›ê¸°
    num = st.number_input("ìì—°ìˆ˜ë¥¼ ì…ë ¥í•˜ì„¸ìš”", min_value=1, value=1, step=1)  # ìì—°ìˆ˜ ì…ë ¥

    # ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì†Œìˆ˜ íŒë³„ ê²°ê³¼ ì¶œë ¥
    if st.button("ì†Œìˆ˜ íŒë³„"):  # ë²„íŠ¼ í´ë¦­ ì‹œ
        if is_prime(num):  # ì…ë ¥í•œ ìˆ˜ê°€ ì†Œìˆ˜ì¸ì§€ íŒë³„
            st.success(f"{num}ì€(ëŠ”) ì†Œìˆ˜ì…ë‹ˆë‹¤!")  # ì†Œìˆ˜ì¼ ê²½ìš° ì„±ê³µ ë©”ì‹œì§€
        else:
            st.warning(f"{num}ì€(ëŠ”) ì†Œìˆ˜ê°€ ì•„ë‹™ë‹ˆë‹¤.")  # ì†Œìˆ˜ê°€ ì•„ë‹ ê²½ìš° ê²½ê³  ë©”ì‹œì§€

    # ìš”ì¼ í™•ì¸ ë¯¸ë‹ˆ í”„ë¡œì íŠ¸
    input_date = st.date_input("ìš”ì¼ì„ ì°¾ê³  ì‹¶ì€ ë‚ ì§œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.")  # ë‚ ì§œ ì…ë ¥ ìœ„ì ¯
    if input_date:  # ë‚ ì§œê°€ ì…ë ¥ë˜ë©´
        try:
            day_of_week = input_date.strftime("%A")  # %AëŠ” ìš”ì¼ì„ í’€ë„¤ì„ìœ¼ë¡œ í‘œì‹œ
            ìš”ì¼_í•œê¸€ = input_date.strftime("%A")  # ìš”ì¼ì„ í•œê¸€ë¡œ ë³€í™˜
            ìš”ì¼_ë³€í™˜ = {
                "Monday": "ì›”ìš”ì¼",
                "Tuesday": "í™”ìš”ì¼",
                "Wednesday": "ìˆ˜ìš”ì¼",
                "Thursday": "ëª©ìš”ì¼",
                "Friday": "ê¸ˆìš”ì¼",
                "Saturday": "í† ìš”ì¼",
                "Sunday": "ì¼ìš”ì¼"
            }
            st.write(f"{input_date.strftime('%Y%m%d')}ì˜ ìš”ì¼ì€ {ìš”ì¼_ë³€í™˜[ìš”ì¼_í•œê¸€]}ì…ë‹ˆë‹¤.")  # ìš”ì¼ ì¶œë ¥
        except ValueError:
            st.error("ì˜¬ë°”ë¥¸ ë‚ ì§œ í˜•ì‹ì„ ì…ë ¥í•´ì£¼ì„¸ìš”. (ì˜ˆ: 2023-12-12)")  # ì˜¤ë¥˜ ë©”ì‹œì§€

    # ë²„íŠ¼ ìœ„ì ¯
    if st.button("ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ë­ê°€ ë‚˜ì˜¬ê¹Œìš”??", type='primary'):  # ë²„íŠ¼ í´ë¦­ ì‹œ
        st.write("# ğŸ˜")  # ì´ëª¨ì§€ ì¶œë ¥
        random_time = datetime.today().strftime('%s')
        if int(random_time)%2 :
            st.balloons()
        else:
            st.snow()  # í’ì„  ì• ë‹ˆë©”ì´ì…˜
    else:
        st.write("# ğŸ™„")  # ì´ëª¨ì§€ ì¶œë ¥


    # ì²´í¬ë°•ìŠ¤
    if st.checkbox("í…ìŠ¤íŠ¸ë¥¼ ë³´ì—¬ì¤„ê¹Œìš”?"):  # ì²´í¬ë°•ìŠ¤ ì„ íƒ ì‹œ
        st.write("ì²´í¬ë°•ìŠ¤ê°€ ì„ íƒë˜ì—ˆìŠµë‹ˆë‹¤!")  # ë©”ì‹œì§€ ì¶œë ¥

    # ë¼ë””ì˜¤ ë²„íŠ¼
    radio_option = st.radio("ë‹¹ì‹ ì˜ ì„ íƒì€?", ["A", "B", "C"])  # ë¼ë””ì˜¤ ë²„íŠ¼ ìƒì„±
    st.write(f"ë‹¹ì‹ ì€ {radio_option}ì„(ë¥¼) ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤.")  # ì„ íƒí•œ ì˜µì…˜ ì¶œë ¥

    # ë©€í‹°ì„ íƒ
    color = st.color_picker("ì›í•˜ëŠ” ìƒ‰ìƒì„ ì„ íƒí•˜ì„¸ìš”:", "#00f900")  # ìƒ‰ìƒ ì„ íƒê¸° ì¶”ê°€
    st.markdown(f"# <span style='color:{color};'>ì˜ˆìœ ìƒ‰ì„ ê³ ë¥´ì…¨êµ°ìš”!</span>", unsafe_allow_html=True)  # ì„ íƒí•œ ìƒ‰ìƒ ì¶œë ¥

    # í”„ë¡œê·¸ë ˆìŠ¤ ë°”
    my_bar = st.progress(0)  # í”„ë¡œê·¸ë ˆìŠ¤ ë°” ì´ˆê¸°í™”
    for percent_complete in range(100):  # 0ë¶€í„° 99ê¹Œì§€ ë°˜ë³µ
        time.sleep(0.01)  # 0.01ì´ˆ ëŒ€ê¸°
        my_bar.progress(percent_complete + 1)  # í”„ë¡œê·¸ë ˆìŠ¤ ë°” ì—…ë°ì´íŠ¸

else:
    st.warning('ì•„ì´ë”” ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•Šì•„ìš”.')  # ê²½ê³  ë©”ì‹œì§€
